"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9953],{9953:(v,_,u)=>{u.r(_),u.d(_,{AuthPageModule:()=>b});var l=u(6814),g=u(95),a=u(6728),c=u(9351),p=u(5861),e=u(5678),d=u(9862),h=u(7337);let m=(()=>{var t;class s{constructor(n){this.http=n,this.apiUrl=h.N.apiUrl}registroUsuario(n){const o=new d.WM({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/signup`,n,{headers:o})}getGeneroByToken(){const n=`${this.apiUrl}/get-generos`,o=new d.WM({"Content-Type":"application/json"});return this.http.get(n,{headers:o})}}return(t=s).\u0275fac=function(n){return new(n||t)(e.LFG(d.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();var f=u(6138);const M=["fileInput"];function x(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"ion-card",7)(1,"ion-title"),e._uU(2,"Login - Pr\xf3ximamente"),e.qZA(),e.TgZ(3,"form",8),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.IniciarSesion())}),e.TgZ(4,"ion-item")(5,"ion-label",9),e._uU(6,"Nombre de usuario"),e.qZA(),e.TgZ(7,"ion-input",10),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.username=o)}),e.qZA()(),e.TgZ(8,"ion-item")(9,"ion-label",9),e._uU(10,"Contrase\xf1a"),e.qZA(),e.TgZ(11,"ion-input",11),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.password=o)}),e.qZA()(),e.TgZ(12,"ion-button",12),e._uU(13,"Enviar"),e.qZA()()()}if(2&t){const i=e.oxw();e.xp6(7),e.Q6J("ngModel",i.usuario.username),e.xp6(4),e.Q6J("ngModel",i.usuario.password)}}function C(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",25),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.Q6J("value",i.genero_id),e.xp6(1),e.Oqu(i.nombre)}}function A(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"ion-card",13)(1,"ion-title"),e._uU(2,"Register - Pr\xf3ximamente"),e.qZA(),e.TgZ(3,"form",8,14),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.Registro())}),e.TgZ(5,"ion-item")(6,"ion-label",9),e._uU(7,"Nombre de usuario:"),e.qZA(),e.TgZ(8,"ion-input",10),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.username=o)}),e.qZA()(),e.TgZ(9,"ion-item")(10,"ion-label",9),e._uU(11,"Correo electr\xf3nico:"),e.qZA(),e.TgZ(12,"ion-input",15),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.email=o)}),e.qZA()(),e.TgZ(13,"ion-row")(14,"ion-col",16)(15,"ion-item")(16,"label",9),e._uU(17,"Contrase\xf1a:"),e.qZA(),e.TgZ(18,"ion-input",11),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.password=o)}),e.qZA()()(),e.TgZ(19,"ion-col",16)(20,"ion-item")(21,"label",9),e._uU(22,"Confirmaci\xf3n de contrase\xf1a:"),e.qZA(),e.TgZ(23,"ion-input",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.confirmPassword=o)}),e.qZA()()()(),e.TgZ(24,"ion-row")(25,"ion-col",16)(26,"ion-item")(27,"label",9),e._uU(28,"Nombre:"),e.qZA(),e.TgZ(29,"ion-input",18),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.nombre=o)}),e.qZA()()(),e.TgZ(30,"ion-col",16)(31,"ion-item")(32,"label",9),e._uU(33,"Apellidos:"),e.qZA(),e.TgZ(34,"ion-input",19),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.apellidos=o)}),e.qZA()()()(),e.TgZ(35,"ion-item")(36,"label",9),e._uU(37,"Fecha de nacimiento:"),e.qZA(),e.TgZ(38,"ion-input",20),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.fecha_nacimiento=o)}),e.qZA()(),e.TgZ(39,"ion-item")(40,"label"),e._uU(41,"G\xe9nero:"),e.qZA(),e.TgZ(42,"ion-select",21),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.genero_id=o)}),e.YNc(43,C,2,2,"ion-select-option",22),e.qZA()(),e.TgZ(44,"ion-item")(45,"label",9),e._uU(46,"N\xfamero de tel\xe9fono:"),e.qZA(),e.TgZ(47,"ion-input",23),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.usuario.numero_telefono=o)}),e.qZA()(),e.TgZ(48,"ion-button",24),e._uU(49,"Registrarse"),e.qZA()()()}if(2&t){const i=e.MAs(4),n=e.oxw();e.xp6(8),e.Q6J("ngModel",n.usuario.username),e.xp6(4),e.Q6J("ngModel",n.usuario.email),e.xp6(6),e.Q6J("ngModel",n.usuario.password),e.xp6(5),e.Q6J("ngModel",n.usuario.confirmPassword),e.xp6(6),e.Q6J("ngModel",n.usuario.nombre),e.xp6(5),e.Q6J("ngModel",n.usuario.apellidos),e.xp6(4),e.Q6J("ngModel",n.usuario.fecha_nacimiento),e.xp6(4),e.Q6J("ngModel",n.usuario.genero_id),e.xp6(1),e.Q6J("ngForOf",n.generos),e.xp6(4),e.Q6J("ngModel",n.usuario.numero_telefono),e.xp6(1),e.Q6J("disabled",!i.valid)}}const T=[{path:"",component:(()=>{var t;class s{constructor(n,o,r,P){this.router=n,this.toastController=o,this.registerService=r,this.loginService=P,this.mostrarLogin=!1,this.mostrarRegister=!1,this.usuario={username:"",email:"",password:"",confirmPassword:"",nombre:"",apellidos:"",fecha_nacimiento:"",genero_id:10,numero_telefono:""},this.token="",this.rol="",this.generos=[]}ngOnInit(){this.getGeneros()}IniciarSesion(){this.loginService.login(this.usuario).subscribe(n=>{this.token=n.token,this.loginService.setToken(this.token),this.router.navigate(["/home"]),this.presentToast("Inicio de Sesi\xf3n exitoso")},n=>{this.presentErrorToast("Error al ingresar los datos, int\xe9ntelo de nuevo.")})}Registro(){this.usuario.password===this.usuario.confirmPassword?this.registerService.registroUsuario(this.usuario).subscribe(()=>{this.presentToast("Usuario registrado con \xe9xito")},n=>{this.presentErrorToast("Error al registrar el usuario. Por favor, intente de nuevo")}):this.presentErrorToast("Las contrase\xf1as no coinciden")}getGeneros(){this.registerService.getGeneroByToken().subscribe(n=>{this.generos=n},n=>{})}toggleLogin(){this.mostrarLogin=!this.mostrarLogin}toggleRegister(){this.mostrarRegister=!this.mostrarRegister}presentToast(n){var o=this;return(0,p.Z)(function*(){(yield o.toastController.create({message:n,duration:3e3,position:"bottom"})).present()})()}presentErrorToast(n){var o=this;return(0,p.Z)(function*(){(yield o.toastController.create({message:n,duration:3e3,position:"bottom",color:"danger"})).present()})()}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(c.F0),e.Y36(a.yF),e.Y36(m),e.Y36(f.r))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-auth"]],viewQuery:function(n,o){if(1&n&&e.Gf(M,5),2&n){let r;e.iGM(r=e.CRH())&&(o.fileInput=r.first)}},decls:12,vars:3,consts:[[1,"ion-padding",3,"fullscreen"],[1,"header"],[1,"ion-text-center"],[1,"auth"],[1,"auth-button",3,"click"],["class","login",4,"ngIf"],["class","register",4,"ngIf"],[1,"login"],[3,"ngSubmit"],["position","floating"],["type","text","name","username","required","",3,"ngModel","ngModelChange"],["type","password","name","password","required","",3,"ngModel","ngModelChange"],["expand","full","type","submit",1,"submit-button"],[1,"register"],["registroForm","ngForm"],["type","email","name","email","required","",3,"ngModel","ngModelChange"],["size","6"],["type","password","name","confirmPassword","required","",3,"ngModel","ngModelChange"],["type","text","name","nombre","required","",3,"ngModel","ngModelChange"],["type","text","name","apellidos","required","",3,"ngModel","ngModelChange"],["type","date","name","fechaNacimiento",3,"ngModel","ngModelChange"],["name","genero","placeholder","Seleccione",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","tel","name","numeroTelefono",3,"ngModel","ngModelChange"],["expand","full","type","submit",3,"disabled"],[3,"value"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-content",0)(1,"ion-card",1)(2,"ion-title",2),e._uU(3,"Login & Register"),e.qZA()(),e.TgZ(4,"ion-card",3)(5,"ion-buttons")(6,"ion-button",4),e.NdJ("click",function(){return o.toggleLogin()}),e._uU(7,"Login"),e.qZA(),e.TgZ(8,"ion-button",4),e.NdJ("click",function(){return o.toggleRegister()}),e._uU(9,"Register"),e.qZA()()(),e.YNc(10,x,14,2,"ion-card",5)(11,A,50,11,"ion-card",6),e.qZA()),2&n&&(e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("ngIf",o.mostrarLogin),e.xp6(1),e.Q6J("ngIf",o.mostrarRegister))},dependencies:[l.sg,l.O5,g._Y,g.JJ,g.JL,g.Q7,g.On,g.F,a.YG,a.Sm,a.PM,a.wI,a.W2,a.pK,a.Ie,a.Q$,a.Nd,a.t9,a.n0,a.wd,a.QI,a.j9],styles:["ion-content[_ngcontent-%COMP%]{--background: url(https://cdn-images-1.medium.com/max/1600/1*5XH40dQSsBVFtvx3MO5VwQ.png) center/cover no-repeat fixed;--offset-bottom: auto !important;--overflow: hidden;overflow:auto;background:var(--background)}ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.header[_ngcontent-%COMP%]{height:40px;background-color:#000000a7;align-items:center;padding:10px;border:2px solid white;color:#fff}.auth[_ngcontent-%COMP%]{background-color:#9f9f9f99;border-radius:15px;border:2px solid #fff;box-shadow:0 0 5px #fff;padding:10px}.auth[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{padding:10px;color:#000}.auth[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.auth[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{flex-grow:1;font-size:14px;border-radius:10px;margin:0 5px;box-shadow:0 0 5px #000;color:#000}.login[_ngcontent-%COMP%]{background-color:#000000a7;align-items:center;padding:10px;border:2px solid white}.login[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{padding:10px}.register[_ngcontent-%COMP%]{background-color:#000000a7;align-items:center;padding:10px;border:2px solid white}"]}),s})()}];let Z=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(T),c.Bz]}),s})(),b=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,g.u5,a.Pc,Z]}),s})()}}]);